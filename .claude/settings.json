{
  "_comment": "Configuração HÍBRIDA de hooks - Solução para Windows CLI subprocess polling issue",
  "_docs": "https://github.com/DennisLiuCk/cc-toolkit/commit/09ab8674200a7bf9e31b0090f39ed12cbc3f6f5d",
  "_strategy": "Use SessionStart para Web/Linux, UserPromptSubmit para Windows CLI. Hooks híbridos previnem execução repetida via run-once guard.",

  "statusLine": {
    "type": "command",
    "command": "node .claude/statusline/professional-statusline.js",
    "padding": 0,
    "_note": "Professional statusline - liquid spinner, vibrant colors, skills tracking, MCP monitoring, context %"
  },

  "hooks": {
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node .claude/hooks/hook-wrapper.js .claude/hooks/superpowers-activator.js",
            "_note": "Auto-ativa skills do superpowers baseado em contexto (brainstorming, debugging, TDD) [WRAPPED]"
          },
          {
            "type": "command",
            "command": "node .claude/hooks/hook-wrapper.js .claude/hooks/session-context-hybrid.js",
            "_note": "Injeta contexto do projeto (agentes, skills, arquitetura) [WRAPPED]"
          },
          {
            "type": "command",
            "command": "node .claude/hooks/hook-wrapper.js .claude/hooks/invoke-legal-braniac-hybrid.js",
            "_note": "Orquestrador mestre - auto-descobre agentes e skills (wrapped para tracking)"
          },
          {
            "type": "command",
            "command": "node .claude/hooks/hook-wrapper.js .claude/hooks/venv-check.js",
            "_note": "Valida se venv está ativo (RULE_006) [WRAPPED]"
          },
          {
            "type": "command",
            "command": "node .claude/hooks/hook-wrapper.js .claude/hooks/git-status-watcher.js",
            "_note": "Avisa se último commit há >1h (previne perda de trabalho) [WRAPPED]"
          },
          {
            "type": "command",
            "command": "node .claude/hooks/hook-wrapper.js .claude/hooks/data-layer-validator.js",
            "_note": "Valida separação CODE/ENV/DATA (previne DISASTER_HISTORY) [WRAPPED]"
          },
          {
            "type": "command",
            "command": "node .claude/hooks/hook-wrapper.js .claude/hooks/dependency-drift-checker.js",
            "_note": "Detecta requirements.txt desatualizados (>30 dias) [WRAPPED]"
          },
          {
            "type": "command",
            "command": "node .claude/hooks/hook-wrapper.js .claude/hooks/corporate-detector.js",
            "_note": "Detecta ambiente corporativo Windows (GPOs, EPERM) [WRAPPED]"
          }
        ]
      }
    ]
  },

  "_alternative_windows_cli": {
    "_comment": "Se precisar suportar Windows CLI, copie esta configuração para .claude/settings.json",
    "hooks": {
      "UserPromptSubmit": [
        {
          "hooks": [
            {
              "type": "command",
              "command": "$CLAUDE_PROJECT_DIR/.claude/hooks/skill-activation-prompt.sh"
            },
            {
              "type": "command",
              "command": "node .claude/hooks/session-context-hybrid.js",
              "_note": "Executa apenas na 1ª vez via run-once guard"
            },
            {
              "type": "command",
              "command": "node .claude/hooks/invoke-legal-braniac-hybrid.js",
              "_note": "Executa apenas na 1ª vez via run-once guard"
            }
          ]
        }
      ],
      "SessionStart": [
        {
          "_comment": "Apenas hooks que não dependem de subprocess (rápidos e síncronos)",
          "hooks": [
            {
              "type": "command",
              "command": "node .claude/hooks/venv-check.js"
            }
          ]
        }
      ]
    }
  }
}
