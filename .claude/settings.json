{
  "outputStyle": "Technical Director",
  "_comment": "Configuração SIMPLIFICADA - Legal-Braniac removido (2025-11-30)",
  "_technical_director": "North Star Guardian System - Proactive architectural governance (2025-12-04)",
  "_docs": "Ver .claude/hooks/lib/ para scripts independentes",
  "_strategy": "Hooks independentes: validations, skill-content-injector, inject-tools-to-agents",
  "_path_fix": "2025-11-28: Todos hooks corrigidos para usar $CLAUDE_PROJECT_DIR (caminhos absolutos) conforme documentação Anthropic",
  "_bun_migration": "2025-12-10: Hooks JS migrados de node para bun run (~25% mais rápido). Bun 1.3.4 adquirido pela Anthropic.",

  "_statusLine_DISABLED_FOR_VIBE_LOG": {
    "_comment": "TEMPORARILY DISABLED to test vibe-log Gordon Co-pilot statusline",
    "_backup": "See settings.json.backup to restore",
    "type": "command",
    "command": "cd \"$CLAUDE_PROJECT_DIR\" && bun run .claude/statusline/professional-statusline.js",
    "padding": 0,
    "_note": "Professional statusline v4.0 - horizontal layout with ANSI colors, bash spinner, last-used tracking"
  },

  "hooks": {
    "SessionStart": [
      {
        "_comment": "Hooks executados no início de cada sessão Claude Code",
        "hooks": [
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/.claude/hooks/venv-activate-global.sh",
            "_note": "Ativa venv global do projeto para persistir durante toda a sessão"
          },
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/.claude/hooks/vibe-log-safe-wrapper.sh sessionstart",
            "_note": "Vibe-log: capture session on startup (graceful skip if not authenticated - Claude Code Web compatible)"
          },
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/.claude/scripts/sync-agents.sh",
            "_note": "Sync agents from repo (.claude/agents/) to global (~/.claude/agents/)"
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR/.claude/hooks/doc-validator.py\" 2>/dev/null || true",
            "_note": "Doc Governance: Validates line limits and README accuracy (non-blocking)"
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR/.claude/hooks/context-memory-inject.py\" 2>/dev/null || true",
            "_note": "Context Memory: Inject recent observations from past sessions (non-blocking)"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "_comment": "Git Safety: auto-commit uncommitted changes to safety branch",
        "hooks": [
          {
            "type": "command",
            "command": "cd \"$CLAUDE_PROJECT_DIR\" && bun run .claude/hooks/session-end-git-safety.js",
            "_note": "Auto-saves uncommitted changes to timestamped branch if session > 2.5h"
          }
        ]
      },
      {
        "_comment": "Vibe-log: capture on session end",
        "hooks": [
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/.claude/hooks/vibe-log-safe-wrapper.sh sessionend",
            "_note": "Vibe-log: capture final session state (graceful skip if not authenticated - Claude Code Web compatible)"
          }
        ]
      },
      {
        "_comment": "Multi-Agent Monitoring: cleanup old tracking data",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR/.claude/monitoring/simple_tracker.py\" cleanup 7",
            "_note": "Remove tracking data older than 7 days"
          }
        ]
      },
      {
        "_comment": "Context Memory: generate session summary for next session",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR/.claude/hooks/context-memory-summary.py\" 2>/dev/null || true",
            "_note": "Context Memory: Generate and store session summary (non-blocking)"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "_comment": "Inject tool availability into Task agent prompts (WebFetch, WebSearch, etc)",
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "cd \"$CLAUDE_PROJECT_DIR\" && bun run .claude/hooks/inject-tools-to-agents.js",
            "_note": "Reads agent-tools-mapping.json and injects available tools instruction into agent prompt"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "_comment": "Context Memory: Capture high-value tool outputs (Write, Edit, Bash)",
        "matcher": "Write|Edit|MultiEdit|Bash",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR/.claude/hooks/context-memory-capture.py\" 2>/dev/null || true",
            "_note": "Context Memory: Compress and store observations from tool outputs (non-blocking)"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "_comment": "Hook chain: prompt-improver → validations → skills → vibe-analyze + monitoring",
        "hooks": [
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/.claude/monitoring/hooks/log_hook.sh UserPromptSubmit",
            "_note": "Multi-Agent Monitoring: Track hook execution"
          },
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/.claude/monitoring/hooks/detect_agents.sh",
            "_note": "Multi-Agent Monitoring: Detect agent spawning patterns"
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR/.claude/hooks/improve-prompt.py\"",
            "_note": "Prompt Improver (severity1): Evaluates prompt clarity and asks clarifying questions when vague"
          },
          {
            "type": "command",
            "command": "cd \"$CLAUDE_PROJECT_DIR\" && bun run .claude/hooks/context-collector-lite.js",
            "_note": "Context collector lite: validations + aesthetic enforcement (no orchestration)"
          },
          {
            "type": "command",
            "command": "cd \"$CLAUDE_PROJECT_DIR\" && bun run .claude/hooks/lib/skill-content-injector.js",
            "_note": "Skill Auto-Activation: Injects top 3 matched skills content into context"
          },
          {
            "type": "command",
            "command": "cd \"$CLAUDE_PROJECT_DIR\" && bun run .claude/hooks/lib/agent-suggester.js",
            "_note": "Agent Auto-Suggestion: Suggests relevant agents based on prompt context"
          },
          {
            "type": "command",
            "command": "cd \"$CLAUDE_PROJECT_DIR\" && bun run .claude/hooks/hook-wrapper.js .claude/hooks/vibe-analyze-prompt.js",
            "_note": "Gordon AI Coach: Real-time prompt quality analysis via Claude SDK (background, non-blocking) [WRAPPED]"
          },
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/.claude/monitoring/hooks/detect_skills.sh",
            "_note": "Multi-Agent Monitoring: Detect skill usage patterns"
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR/.claude/hooks/project-context.py\"",
            "_note": "Technical Director: North Star status + git state awareness"
          }
        ]
      }
    ]
  },

  "_deprecated_hooks_moved_to": ".claude/hooks/_deprecated/",
  "_migration_date": "2025-11-30",
  "_breaking_change": "Legal-Braniac removido. Hooks agora são independentes (validations, skills, tools injection)."
}
